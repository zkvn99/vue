<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
<div id="step01">
  {{ message }}
  <br>
  <!--
      v-on:click의 축약형이 @click 으로 버튼 클릭 시 changeMessage 함수를 호출
  -->
  <button @click="changeMessage"> 메시지 바꾸기 </button>
</div>
<div id="step02">
  <h3>ref count</h3>
  <p>count : {{ count }}</p>
  <button @click="increase">count 값 증가</button>
  <h3>reactive user</h3>
  <p>user.name : {{ user.name }}</p>
  <p>user.age : {{ user.age }}</p>
  <button @click="changeUser">유저 수정</button>
</div>
<script>
  // console.log(Vue);
  // Vue 객체에서 구조분해할당을 통해 필요한 함수 꺼내기
  const { createApp, ref, reactive } = Vue;

  createApp({
    setup() {
      // ref : "하나의 값"을 반응형으로 만들 때 사용
      const message = ref('Hello Vue!');

      const changeMessage = () => {
        message.value = '안녕, 뷰!';   //JS 안에서는 .value로 ref의 실제 값 접근
      }

      // setup 함수에서 리턴한 값만 View 에서 사용 가능
      return {
        message,
        changeMessage
      }
    }
  }).mount('#step01');

  createApp({
    setup() {
      /* ref : 숫자, 문자, boolean, 배열, 객체 등 "단일 값"을 감싸는 용도
      * reactive : 주로 "객체"를 통채로 반응형으로 만들 때 사용
      * */

      const count = ref(0); // 숫자 하나를 반응형 상태로 관리
      const user = reactive({
        name : '홍길동',
        age : 20
      }); // 객체 전체를 반응형 상태로 관리
      const increase = () => {
        // ref로 만든 값은 .value로 읽고 쓴다.
        count.value++;
      };
      const changeUser = () => {
        // reactive로 만든 값은 .value 없이 프로퍼티에 접근
        user.name = '김영희';
        user.age = user.age + 1;
      };

      return {
        count,
        user,
        increase,
        changeUser
      }
    }
  }).mount('#step02');
</script>
</body>
</html>