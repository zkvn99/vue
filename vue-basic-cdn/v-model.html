<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>05-v-model</title>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
<div id="step01">
  <h3>기본 입력 요소 + v-model</h3>

  <label>이름</label>
  <input type="text" v-model="name"><br>

  <label>주소(.lazy)</label>
  <!-- .lazy : focus가 빠져나갈 때(blur) 값 반영 -->
  <input type="text" v-model.lazy="address"><br>

  <label>나이(.number)</label>
  <!--
    .number :
    입력값을 Number()로 변환하려고 시도
    숫자로 변환 가능한 경우 number로 저장됨
    숫자로 변환 불가능한 경우 문자열 그대로 유지됨
  -->
  <input type="text" v-model.number="age"><br>


  <label>자기소개(.trim)</label>
  <!-- .trim : 앞/뒤 공백 제거 -->
  <input type="text" v-model.trim="introduce"><br>

  <h4>입력 값 미리보기</h4>
  <p>name: {{ name }}</p>
  <p>address: {{ address }}</p>
  <p>age: {{ age }} (타입: {{ typeof age }})</p>
  <p>introduce: "{{ introduce }}"</p>

  <hr>

  <h3>select와 v-model</h3>
  <!-- 단일 선택 -->
  <label>단일 선택</label>
  <select v-model="selected" @change="logSelected">
    <option value="apple">apple</option>
    <option value="melon">melon</option>
    <option value="grape">grape</option>
  </select>

  <!-- 다중 선택 -->
  <label>다중 선택</label>
  <select v-model="multi" multiple>
    <option value="apple">apple</option>
    <option value="melon">melon</option>
    <option value="grape">grape</option>
  </select>

  <p>selected: {{ selected }}</p>
  <p>multi: {{ multi }}</p>

  <hr>

  <h3>체크박스 + v-model</h3>
  <!-- 체크된 항목들의 value가 배열에 담긴다 -->
  <input id="apple" type="checkbox" value="apple" v-model="fruits">
  <label for="apple">apple</label>

  <input id="melon" type="checkbox" value="melon" v-model="fruits">
  <label for="melon">melon</label>

  <input id="grape" type="checkbox" value="grape" v-model="fruits">
  <label for="grape">grape</label>

  <p>선택한 과일들: {{ fruits }}</p>

  <hr>

  <h3>라디오 버튼 + v-model</h3>
  <!-- 같은 name / 같은 v-model을 사용하면 단일 선택이 된다 -->
  <input
      type="radio"
      id="male"
      value="male"
      v-model="gender"
  >
  <label for="male">남성</label>

  <input
      type="radio"
      id="female"
      value="female"
      v-model="gender"
  >
  <label for="female">여성</label>

  <p>gender: {{ gender }}</p>
</div>

<script>
  const { createApp, ref } = Vue;

  createApp({
    setup() {
      const name = ref('');
      const address = ref('');
      const age = ref(0);
      const introduce = ref('');

      const selected = ref('apple');
      const multi = ref([]);
      const fruits = ref([]);
      const gender = ref('male');

      const logSelected = () => {
        console.log('selected:', selected.value);
      };

      return {
        name,
        address,
        age,
        introduce,
        selected,
        multi,
        fruits,
        gender,
        logSelected
      };
    }
  }).mount('#step01');
</script>
</body>
</html>